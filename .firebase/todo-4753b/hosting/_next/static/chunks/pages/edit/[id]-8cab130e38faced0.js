(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{6239:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit/[id]",function(){return s(2662)}])},2662:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return h}});var l=s(5893),n=s(7294),i=s(3878),a=s(722),r=s.n(a),d=s(6100),o=s(3920),c=s(1163),u=s(9198),m=s.n(u);s(5890);var x=s(6650),h=!0;t.default=e=>{let{item:t}=e,[s,a]=(0,n.useState)(),[u,h]=(0,n.useState)(t.hasDeadline),[b,g]=(0,n.useState)(t.isPublic),[f,p]=(0,n.useState)(t.title),[w,y]=(0,n.useState)(t.description),{user:j}=(0,o.E)(),[N,v]=(0,n.useState)(t.attachedFile),_=(0,c.useRouter)();if(!j)return _.push("/login"),null;let k=async e=>{e.preventDefault();let l=null,n=null,a=null,r=null,o=null;s&&u&&(l=s.getDate(),n=s.getMonth()+1,a=s.getFullYear(),r=s.getHours(),o=s.getMinutes());let c={uid:j.uid,title:f,description:w,hasDeadline:u,day:l,month:n,year:a,hours:r,minutes:o,isPublic:b,attachedFile:null,done:!1};if(await (0,d.pl)((0,d.JU)(i.db,"todo-items",t.id),c),"string"==typeof N)c.attachedFile=N,await (0,d.pl)((0,d.JU)(i.db,"todo-items",t.id),c);else if(N){let e="items/".concat(t.id,"/").concat(N.name),s=(0,x.iH)(i.t,e),l=(0,x.B0)(s,N);await l;let n=await (0,x.Jt)(l.snapshot.ref);console.log(n),await (0,d.pl)((0,d.JU)(i.db,"todo-items",t.id),{...c,attachedFile:n})}_.push("/")};return(0,l.jsx)("div",{className:"".concat(r().new," bg-gray-900 flex items-center justify-center relative"),children:(0,l.jsx)("div",{className:"max-w-md w-full p-8 rounded-lg shadow-md",children:(0,l.jsxs)("form",{onSubmit:k,children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{htmlFor:"title",className:"block text-gray-200 text-sm font-bold mb-2",children:"Title:"}),(0,l.jsx)("input",{required:!0,type:"text",id:"title",name:"title",value:f,onChange:e=>{p(e.target.value)},className:"w-full border-2 rounded-md px-4 py-2 leading-5 transition duration-150 ease-in-out sm:text-sm sm:leading-5 resize-none focus:outline-none focus:border-blue-500 text-gray-200 bg-gray-700"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{htmlFor:"description",className:"block text-gray-200 text-sm font-bold mb-2",children:"Description:"}),(0,l.jsx)("textarea",{required:!0,id:"description",name:"description",value:w,onChange:e=>{y(e.target.value)},rows:6,className:"w-full border-2 rounded-md px-4 py-2 leading-5 transition duration-150 ease-in-out sm:text-sm sm:leading-5 resize-none focus:outline-none focus:border-blue-500 bg-gray-700 text-gray-200",placeholder:"Add description"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{htmlFor:"fileAttachment",className:"block text-gray-200 text-sm font-bold mb-2",children:"Attach File:"}),(0,l.jsxs)("div",{className:"relative border-2 rounded-md px-4 py-3 bg-gray-700 flex items-center justify-between hover:border-blue-500 transition duration-150 ease-in-out",children:[(0,l.jsx)("input",{type:"file",id:"fileAttachment",name:"fileAttachment",onChange:e=>{v(null);let t=e.target.files[0];t&&t.type.includes("image")&&v(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer text-gray-200"}),(0,l.jsxs)("div",{className:"flex items-center",children:[!N&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{className:"ml-2 text-sm text-gray-300",children:"Choose a file"})]}),N&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("span",{className:"ml-2 text-sm text-gray-300",children:["Chosen file: ",N.name?N.name:"file selected"]})})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center mb-4",children:[(0,l.jsx)("input",{id:"deadline_box",type:"checkbox",checked:u,onChange:e=>h(e.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),(0,l.jsx)("label",{htmlFor:"deadline_box",className:"ms-2 text-sm font-medium text-gray-200",children:"Has deadline"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{htmlFor:"deadline",className:"block text-gray-200 text-sm font-bold mb-2",children:"Deadline:"}),(0,l.jsx)(m(),{id:"deadline",selected:s,onChange:e=>{a(e)},showTimeSelect:!0,dateFormat:"Pp",className:"text-gray-200 w-full border-2 rounded-md px-4 py-2 leading-5 transition duration-150 ease-in-out sm:text-sm sm:leading-5 resize-none focus:outline-none focus:border-blue-500 bg-gray-700"})]}),(0,l.jsxs)("div",{className:"flex items-center mb-4",children:[(0,l.jsx)("input",{id:"public",type:"checkbox",checked:b,onChange:e=>g(e.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),(0,l.jsx)("label",{htmlFor:"public",className:"ms-2 text-sm font-medium text-gray-200",children:"Public"})]}),(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("button",{type:"submit",className:"flex justify-center items-center bg-blue-500 hover:bg-blue-600 focus:outline-none focus:shadow-outline-blue text-white py-2 px-4 rounded-md transition duration-300 gap-2",children:["Add todo item",(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 24 24",id:"send",fill:"#fff",children:[(0,l.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,l.jsx)("path",{d:"M3.4 20.4l17.45-7.48c.81-.35.81-1.49 0-1.84L3.4 3.6c-.66-.29-1.39.2-1.39.91L2 9.12c0 .5.37.93.87.99L17 12 2.87 13.88c-.5.07-.87.5-.87 1l.01 4.61c0 .71.73 1.2 1.39.91z"})]})]})})]})})})}},722:function(e){e.exports={new:"new_new__ZKbcX"}}},function(e){e.O(0,[40,917,774,888,179],function(){return e(e.s=6239)}),_N_E=e.O()}]);