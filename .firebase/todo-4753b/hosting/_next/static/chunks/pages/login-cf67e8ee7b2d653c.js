(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(1165)}])},1165:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var r=t(5893),a=t(7294),o=t(3878),l=t(3920),s=t(9544);let i=()=>{let[e,n]=(0,a.useState)(!1),[t,r]=(0,a.useState)(null),[i,u]=(0,a.useState)(!1),{dispatch:d}=(0,l.E)(),c=async(n,t)=>{r(null),u(!0);try{await (0,s.e5)(o.I,n,t).then(n=>{if(!e){if(n.user)d({type:"LOGIN",payload:n.user}),u(!1),r(null);else throw Error("Could not log in")}})}catch(n){e||("auth/internal-error"===n.code?r("Invalid login credentials"):r(n.message),u(!1))}};return(0,a.useEffect)(()=>()=>n(!0),[]),{login:c,isPending:i,error:t}};var u=t(1163);function d(){let[e,n]=(0,a.useState)(""),[t,o]=(0,a.useState)(""),{login:s,error:d,isPending:c}=i(),f=(0,u.useRouter)(),{user:g}=(0,l.E)();return g&&f.push("/"),(0,r.jsx)("main",{className:"mx-auto flex w-full items-center justify-center bg-gray-900 text-white relative mt-16",children:(0,r.jsxs)("form",{className:"flex w-[30rem] flex-col space-y-10",onSubmit:n=>{n.preventDefault(),s(e,t)},children:[(0,r.jsx)("div",{className:"text-center text-4xl font-medium",children:"Log In"}),(0,r.jsx)("div",{className:"w-full transform border-b-2 bg-transparent text-lg duration-300 focus-within:border-indigo-500",children:(0,r.jsx)("input",{type:"email",placeholder:"Email",className:"w-full border-none bg-transparent outline-none placeholder-italic focus:outline-none",onChange:e=>n(e.target.value),value:e})}),(0,r.jsx)("div",{className:"w-full transform border-b-2 bg-transparent text-lg duration-300 focus-within:border-indigo-500",children:(0,r.jsx)("input",{type:"password",placeholder:"Password",className:"w-full border-none bg-transparent outline-none placeholder-italic focus:outline-none",onChange:e=>o(e.target.value),value:t})}),!c&&(0,r.jsx)("button",{className:"transform rounded-sm bg-indigo-600 py-2 font-bold duration-300 hover:bg-indigo-400",children:"LOG IN"}),c&&(0,r.jsx)("button",{className:"transform rounded-sm bg-indigo-600 py-2 font-bold duration-300 hover:bg-indigo-400",disabled:!0,children:"Loading..."}),d&&(0,r.jsx)("p",{children:d})]})})}},1163:function(e,n,t){e.exports=t(9974)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);